<!DOCTYPE html>
<html>
<head>
<title> Species</title>
<meta name="viewport"content="width=device-width,initial-scale=1">
<meta charset="UTF-8" />
<style type="text/css">
*{
  box-sizing:border-box;
}
noscript{
  color:red;
}
#code{
  width:100%;
  background-color:black;
  color:cyan;
  padding:5px;
  overflow:auto;
  border-left:3px solid steelBlue;
}
small{
  color:silver;
}
</style>
</head>
<body>
<noscript>Please enable javascript to see the result</noscript>
<h1>Species</h1>
<p>You might want to return <strong>Array</strong> objects in your derived array class <strong>MyArray</strong>. The species pattern lets you override default constructors.

For example, when using methods such as <strong>map()</strong> that returns the default constructor, you want these methods to return a parent <strong>Array</strong> object, instead of the <strong>MyArray</strong> object. The <mark><strong>Symbol.species</strong></mark> symbol lets you do this:</p>
<pre id="code"></pre>
<script type="text/javascript"id="p">
class MyArray extends Array{
//Overwrite species to the parent Array constructor
static get [Symbol.species](){return Array;}
}
let a=new MyArray(1,2,3);
let mapped=a.map(x=>x*x);
console.log(mapped instanceof MyArray); //false
console.log(mapped instanceof Array); //true

</script>

<!--It will print the previous script code-->
<script type="text/javascript">
document.querySelector("#code").innerHTML=document.querySelector("#p").innerHTML;
</script>
</body>
</html>